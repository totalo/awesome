## 基础语法

### 变量与常量

```rust
// 不可变量
let a = 123;

// 可变变量，需要加上 mut 关键字
let mut a = 123;
a = 456;

// 不可变量和常量的区别
let a = 123;
let a = 456; // 可以重新绑定

// 格式：变量名:数据类型 = 值;
const A: i32 = 123;
let A: i32 = 456; // 不能重新定义同名常量

```

重影和变量的重新赋值不是一个概念。重影是指用同一个名字重新代表另一个变量实体，其类型、可变属性和值都可以变化，但是可变变量的值只能变化，类型和可变属性不能变化。

### 数据类型

1 、整型

| 位长度 | 有符号 | 无符号 |
| --- |:---:| --- |
| 8-bit | i8 | u8 |
| 16-bit | i16 | u16 |
| 32-bit | i32 | u32 |
| 64-bit | i64 | u64 |
| 128-bit | i128 | u128 |
| arch | isize | usize |

isize 和 usize 两种整数类型是用来衡量数据大小的，它们的位长度取决于所运行的目标平台，如果是 32 位架构的处理器将使用 32 位位长度整型。

2 、浮点型

Rust 语言提供两种浮点数类型：f32 和 f64，分别对应 32 位和 64 位浮点数。

3 、布尔型

bool 类型只能取两个值：true 和 false。

4 、字符型

char 表示，占 4 个字节，存储的是 Unicode 标量值，可以用单引号表示。

5 、元组

元组是将多个其他类型的值组合成一个复合类型，元组长度固定：一旦声明，其长度不会增大或缩小。

```Rust
// 元组的声明，使用圆括号： ()
let tup: (i32, f64, u8) = (500, 6.4, 1);
// tup.0 等于 500
// tup.1 等于 6.4
// tup.2 等于 1
let (x, y, z) = tup;
// y 等于 6.4
```

6 、数组

数组中的每个元素必须类型相同，数组长度固定：一旦声明，其长度不会增大或缩小。

```Rust
let a = [1, 2, 3, 4, 5];
// a 是一个长度为 5 的整型数组

let b = ["January", "February", "March"];
// b 是一个长度为 3 的字符串数组

let c:[i32;5]=[1, 2, 3, 4, 5];
// c 是一个长度为 5 的 i32 数组

let d = [3; 5];
// 等同于 let d = [3, 3, 3, 3, 3];

let first = a[0];
let second = a[1];
// 数组访问

a[0] = 123; // 错误：数组 a 不可变
let mut a = [1, 2, 3];
a[0] = 4; // 正确
```

## 函数

### 函数的定义

```
fn <函数名> ( <参数> ) <函数体>
```

### 函数参数

Rust 中定义函数如果需要具备参数必须声明参数名称和类型：

```Rust
fn main() { 
    let x = 5;
    
    let y = { 
        let x = 3;
        x + 1
    };
    println!("x 的值为 : {}", x);
    println!("y 的值为 : {}", y);
}
```

### 条件语句

Rust 中的条件语句必须是 bool 类型。

### 循环

Rust 中没有 for-index 形式的 for 循环，而是采用 while 代替或者是 for in 形式的 for 循环。

```Rust
let a = [10, 20, 30, 40, 50];
let mut index = 0;
while index < 5 {
    println!("the value is: {}", a[index]);
    index = index + 1;
}
```

```Rust
let a = [10, 20, 30, 40, 50];
for element in a.iter() {
    println!("the value is: {}", element);
}
```

### 所有权

所有权的概念是为了让 Rust 在编译阶段更有效的分析内存资源的有用性以实现内存管理而诞生的概念。

#### 所有权规则

- Rust 中的每一个值都有一个被称为其 所有者（owner）的变量。
- 一次只能有一个所有者
- 当所有者（变量）离开作用域，这个值将被丢弃。

#### 变量范围

```rust
{
    // 在声明以前，变量 s 无效
    let s = "runoob";
    // 这里是变量 s 的可用范围
}
// 变量范围已经结束，变量 s 无效
```
变量范围是变量的一个属性，其代表变量的可行域，默认从声明变量开始有效直到变量所在域结束。

### 切片

切片（slice）类型代表了对一个数组（或者其他类型的序列）的引用，指定了序列的开始和结束位置。

### 结构体

结构体（struct）是一种自定义数据类型，允许你命名和包装多个相关的值，从而形成一个更加强大的类型。

定义

```Rust
struct Site {
    domain: String,
    name: String,
    nation: String,
    found: u32
}
```
